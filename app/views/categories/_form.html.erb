<%= form_with model: @category, :html => {:class => "form", :id => "articleForm"} do |f| %>

    <% if can? :manage, @category %>
    
      <label> Enter category name </label>
      <%= f.text_field :name %>  <span id="nameError"> </span> <br/><br/>
    
      <label> Enter description </label>
      <%= f.text_field :description, id: 'description' %> <span id = "descError"> </span> <br/><br/>
    
      <%= f.submit "save", id: "articleSubmit" %>
  
    <% else %>
      <h1> You need to login in as Admin inorder enter a new category </h1>
    <% end %>
  
  <% end %>
  
  <script>
    var formHandle = document.getElementById('articleForm'); 
    var nameElement = document.getElementById('category_name');
    var description = document.getElementById('description');
    var submitHandle = document.getElementById('articleSubmit');
  
    var nameError = document.getElementById('nameError');
    var descError = document.getElementById('descError');
    formHandle.addEventListener('submit',function(e){
      if (nameElement.value === "") {
        nameError.innerHTML = "Name field cannot be empty";
        e.preventDefault();
      }
      else{
        nameError.innerHTML = "";
      }
  
      if (description.value === "") {
        descError.innerHTML = "Name field cannot be empty";
        e.preventDefault();
      }
      else{
        descError.innerHTML = "";
      }
      setTimeout(function(){
          submitHandle.disabled = false;
        },100);
    },false);
  </script>
  